<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Info</title>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="../../sin-styles.css">
    <link rel="stylesheet" href="bank-info-styles.css">
</head>
<body class="account-generator">
    <header class="header">
        <button class="home-btn" onclick="window.location.href='../../index.html'">
            <svg class="home-icon" viewBox="0 0 24 24">
                <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" />
            </svg>
        </button>
        <h1 class="page-title">BANK INFO</h1>
        <button class="history-btn" onclick="toggleHistory()">HISTORY</button>
    </header>

    <main class="sin-content">
        <div class="generation-area">
            <!-- Selection Row -->
            <div class="bank-selection-row">
                <button id="bankBtn" class="bank-selection-btn" onclick="toggleBankSelection()">
                    <span id="bankText">Bank</span> <span>▶</span>
                </button>
                <button id="provinceBtn" class="bank-selection-btn disabled" onclick="toggleProvinceSelection()">
                    <span id="provinceText">Province</span> <span>▶</span>
                </button>
                <button id="cityBtn" class="bank-selection-btn disabled" onclick="toggleCitySelection()">
                    <span id="cityText">CITY</span> <span>▶</span>
                </button>
            </div>

            <!-- Generate Button - SAME SPACING AS OTHER SECTIONS -->
            <div class="generate-button-section">
                <button id="generateBtn" class="generate-btn disabled" onclick="generateBankInfo()">Generate</button>
            </div>

            <!-- Bank Selection Options -->
            <div class="advance-section">
                <div id="bankOptions" class="advance-options">
                    <label class="option-label">
                        <input type="radio" name="bank-choice" value="RBC" onchange="selectBank('RBC')"> RBC
                    </label>
                    <label class="option-label">
                        <input type="radio" name="bank-choice" value="SCOTIA" onchange="selectBank('SCOTIA')"> SCOTIA
                    </label>
                    <label class="option-label">
                        <input type="radio" name="bank-choice" value="TD" onchange="selectBank('TD')"> TD
                    </label>
                    <label class="option-label">
                        <input type="radio" name="bank-choice" value="CIBC" onchange="selectBank('CIBC')"> CIBC
                    </label>
                    <label class="option-label">
                        <input type="radio" name="bank-choice" value="BMO" onchange="selectBank('BMO')"> BMO
                    </label>
                </div>
            </div>

            <!-- Province Selection Options -->
            <div class="advance-section">
                <div id="provinceOptions" class="advance-options">
                    <div id="provinceOptionsContent"></div>
                </div>
            </div>

            <!-- City Selection Options -->
            <div class="advance-section">
                <div id="cityOptions" class="advance-options">
                    <div id="cityOptionsContent"></div>
                </div>
            </div>

            <!-- FIXED: Single Result Container - NO NESTED DIVS -->
            <div id="bankInfoDisplay" class="bank-details" style="display: none;">
                <div class="bank-info">
                    <h3 id="displayBankName">BANK NAME</h3>
                    
                    <div class="info-section">
                        <div class="info-label">ACCOUNT NUMBER</div>
                        <div id="displayAccountNumber" class="info-value">1234567</div>
                    </div>
                    
                    <div class="info-section">
                        <div class="info-label">TRANSIT NUMBER</div>
                        <div id="displayTransitNumber" class="info-value">12345</div>
                    </div>
                    
                    <div class="info-section">
                        <div class="info-label">INSTITUTION NUMBER</div>
                        <div id="displayInstitutionNumber" class="info-value">001</div>
                    </div>
                    
                    <div class="info-section">
                        <div class="info-label">ADDRESS</div>
                        <div id="displayBranchName" class="info-value">Branch Name</div>
                        <div id="displayBankAddress" class="info-value">123 Main Street</div>
                        <div id="displayBankLocation" class="info-value">City, Province</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Modal - EXACT COPY FROM SIN-STYLES -->
        <div id="historyModal" class="history-modal">
            <div class="history-content">
                <div class="history-header">
                    <h3>SEARCH HISTORY</h3>
                    <button class="close-btn" onclick="toggleHistory()">&times;</button>
                </div>
                <div class="history-table">
                    <table id="historyTable">
                        <thead>
                            <tr>
                                <th>Bank</th>
                                <th>City</th>
                                <th>Province</th>
                                <th>Branch</th>
                                <th>Account</th>
                                <th>Transit</th>
                                <th>Institution</th>
                                <th>Date</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="historyTableBody"></tbody>
                    </table>
                    <div id="noHistory" class="no-history" style="display: none;">
                        <p>No searches performed yet.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Load Scripts -->
    <script src="../../financial-institutions/major-banks-data/td-bank-data.js"></script>
    <script src="../../financial-institutions/major-banks-data/rbc-data.js"></script>
    <script src="../../financial-institutions/major-banks-data/bmo-data.js"></script>
    <script src="../../financial-institutions/major-banks-data/scotia-data.js"></script>
    <script src="../../financial-institutions/major-banks-data/cibc-data.js"></script>
    <script src="bank-info.js"></script>

</body>
</html>
